---
id: mst
title: 'Minimum Spanning Trees'
author: Benjamin Qi
prerequisites:
  - sp
  - dsu
description: 'A subset of the edges of a connected, undirected, edge-weighted graph that connects all the vertices to each other of minimum total weight, where no cycles are allowed.'
frequency: 2
---

import { Problem } from '../models';

export const problems = {
	standard: [
		new Problem('CSES', 'Road Reparation', '1675', 'Easy', false, ['MST'], ''),
	],
	general: [
		new Problem(
			'Old Silver',
			'Superbull',
			'531',
			'Easy',
			false,
			['MST', 'Prim'],
			''
		),
		new Problem('Gold', 'Fenced In', '623', 'Easy', false, ['MST'], ''),
		new Problem(
			'Gold',
			'I Would Walk 500 Miles',
			'946',
			'Normal',
			false,
			['Math', 'Prim'],
			'usaco-946'
		),
		new Problem(
			'HR',
			'Spanning Tree Fraction',
			'https://www.hackerrank.com/contests/w31/challenges/spanning-tree-fraction/problem',
			'Normal',
			false,
			['MST', 'Binary Search'],
			''
		),
		new Problem('Plat', 'Fenced In', '625', 'Hard', false, ['Kruskal'], ''),
	],
};

To review a couple of terms:
- An **undirected egdge** is an edge that goes both ways
- A **connected graph** is a graph of vertices such that each vertex can reach every other vertex using undirected edges.
- A **spanning tree** is a subgraph that is a tree which contains every vertex in the original graph
- A **minimum spanning tree** is a spanning tree such that the sum of edge weights are minimized

<!-- Prim's is recommended; Kruskal's algorithm might TLE -->

<FocusProblem problem={problems.standard[0]} />

<!-- new Problem("Kattis", "MST", "minspantree", "Easy", false, ["MST"], ""), -->

## Kruskal's

<Resources>
	<Resource source="CPH" title="15.1 - Kruskal's" starred></Resource>
	<Resource
		source="cp-algo"
		title="Kruskal's"
		url="graph/mst_kruskal.html"
	></Resource>
	<Resource
		source="cp-algo"
		title="Kruskal's with DSU"
		url="graph/mst_kruskal_with_dsu.html"
	></Resource>
	<Resource source="CP2" title="4.3.2 - Kruskal's">
		{' '}
	</Resource>
</Resources>

<!-- 	<Resource source="PAPS" title="12.4 - Kruskal's">
		description, example, explanation of correctness
	</Resource> -->

### Solution - Road Reparation

<LanguageSection>

<CPPSection>

<Resources>
	<Resource
		source="Benq (from KACTL)"
		url="https://github.com/bqi343/USACO/blob/master/Implementations/content/graphs%20(12)/DSU/DSU%20(7.6).h"
		title="DSU"
	>
		Disjoint Set Union + Kruskal
	</Resource>
</Resources>

```cpp
#include "DSU.h"

template<class T> T kruskal(int N, vector<pair<T,pi>> ed) {
	sort(all(ed));
	T ans = 0; DSU D; D.init(N); // edges that unite are in MST
	trav(a,ed) if (D.unite(a.s.f,a.s.s)) ans += a.f;
	return ans;
}
```

</CPPSection>

</LanguageSection>

## Prim's

<Resources>
	<Resource source="CPH" title="15.3 - Prim's" starred></Resource>
	<Resource
		source="cp-algo"
		title="Prim's"
		url="graph/mst_prim.html"
	></Resource>
	<Resource source="CP2" title="4.3.3 - Prim's">
		{' '}
	</Resource>
</Resources>

### Solution - Road Reparation

<IncompleteSection />

## USACO Problems

<Problems problems={problems.general} />
